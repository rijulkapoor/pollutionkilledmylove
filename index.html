<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pollution killed my love ‚Äî Clinical Memorial</title>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XHW6G0ZL9Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XHW6G0ZL9Q');
  </script>

  <link rel="icon" type="image/png" href="favicon.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

  <style>
    *, *::before, *::after { box-sizing: border-box; }

    :root {
      --bg: #f4f1ea; 
      --card-bg: #fdfbf7;
      --text-main: #121212;
      --text-muted: #545454;
      --border-light: #dcd9d0;
      --font-serif: 'Playfair Display', serif;
      --font-sans: 'Inter', sans-serif;
    }

    body {
      margin: 0; padding: 0;
      font-family: var(--font-sans);
      background-color: var(--bg);
      color: var(--text-main);
      line-height: 1.6;
      overflow-x: hidden;
    }

    .page-wrapper {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 60px 20px;
    }

    .content-column { width: 100%; max-width: 600px; }

    header {
      text-align: center;
      margin-bottom: 50px;
      border-bottom: 1px solid var(--border-light);
      padding-bottom: 40px;
    }

    h1 { font-family: var(--font-serif); font-weight: 700; font-size: clamp(28px, 8vw, 42px); margin: 0 0 12px 0; }
    h2 { font-weight: 500; font-size: 13px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--text-muted); margin: 0; }

    .intro-text {
      font-family: var(--font-serif);
      font-size: 20px;
      text-align: center;
      margin-bottom: 40px;
      font-style: italic;
    }

    .progress-container { height: 1px; background: var(--border-light); width: 100%; margin-bottom: 30px; position: relative; }
    .progress-bar { position: absolute; left: 0; top: 0; bottom: 0; background: #000; width: 0%; transition: width 0.4s ease; }

    .step-label { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: #888; margin-bottom: 8px; display: block; }
    .question-text { font-family: var(--font-serif); font-size: 26px; margin-bottom: 24px; display: block; }

    select, input {
      display: block; width: 100%; padding: 16px; font-size: 16px;
      background-color: var(--card-bg); border: 1px solid var(--border-light);
      border-radius: 0; appearance: none; margin-bottom: 20px;
    }
    select {
      background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
      background-repeat: no-repeat; background-position: right 16px top 50%; background-size: 10px auto;
    }

    .nav-buttons { display: flex; justify-content: space-between; margin-top: 40px; border-top: 1px solid var(--border-light); padding-top: 20px; }
    button { background: none; border: 1px solid transparent; padding: 12px 24px; font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; }
    .btn-next, .btn-calc { background: #000; color: #fff; }

    .methodology-section {
      margin-top: 100px;
      padding-top: 60px;
      border-top: 1px solid var(--text-main);
      width: 100%;
    }
    .methodology-section h3 { font-family: var(--font-serif); font-size: 28px; margin-bottom: 20px; }
    .methodology-section p { font-size: 16px; color: #333; max-width: 580px; }

    .modal-overlay {
      position: fixed; inset: 0; background: rgba(244, 241, 234, 0.98);
      z-index: 999; display: none; align-items: center; justify-content: center; padding: 20px;
    }
    .modal-inner { width: 100%; max-width: 500px; text-align: center; border: 1px solid #000; padding: 40px; background: var(--card-bg); }
    .result-value { font-family: var(--font-serif); font-size: clamp(48px, 10vw, 64px); font-weight: 700; display: block; margin: 15px 0; }

    .step { display: none; }
    .step.active { display: block; animation: fadeEffect 0.5s; }
    @keyframes fadeEffect { from {opacity: 0;} to {opacity: 1;} }
  </style>
</head>
<body>

<div class="page-wrapper">
  <div class="content-column">
    <header>
      <h1>üïäÔ∏è Pollution killed my love</h1>
      <h2>Clinical Memorial ‚Äî NCR Pollution Life-loss</h2>
    </header>

    <div class="intro-text">
      <strong>This website estimates how long a deceased loved one may have lived without air pollution in Delhi NCR.</strong><br/>
      <span style="display:block; margin-top:12px; font-size: 0.85em; color:var(--text-muted); font-family: var(--font-sans); font-style: normal;">This is not a survey, but a tool. Tell us about them, so we may calculate an estimate.</span>
    </div>

    <div class="progress-container"><div id="progressBar" class="progress-bar"></div></div>

    <form id="wizard" onsubmit="return false;">
      <section class="step active" data-step="1">
        <span class="step-label">Step 1 of 5</span>
        <label class="question-text">Where did they live?</label>
        <select id="region">
          <option value="delhi">Delhi (Central)</option>
          <option value="north_delhi">North Delhi</option>
          <option value="east_delhi">East Delhi</option>
          <option value="west_delhi">West Delhi</option>
          <option value="south_delhi">South Delhi</option>
          <option value="ghaziabad">Ghaziabad</option>
          <option value="noida">Noida</option>
          <option value="greater_noida">Greater Noida</option>
          <option value="faridabad">Faridabad</option>
          <option value="gurugram">Gurugram</option>
          <option value="sonipat">Sonipat</option>
          <option value="bahadurgarh">Bahadurgarh</option>
          <option value="meerut">Meerut</option>
        </select>
      </section>

      <section class="step" data-step="2">
        <span class="step-label">Step 2 of 5</span>
        <label class="question-text">Years lived in the NCR region?</label>
        <select id="yearsInArea">
          <option value="5">Less than 5 years</option>
          <option value="10">5‚Äì10 years</option>
          <option value="15">10‚Äì15 years</option>
          <option value="20">15‚Äì20 years</option>
          <option value="25">More than 20 years</option>
        </select>
      </section>

      <section class="step" data-step="3">
        <span class="step-label">Step 3 of 5</span>
        <label class="question-text">Age at the time of death?</label>
        <input id="age" type="number" min="5" max="95" value="50" />
      </section>

      <section class="step" data-step="4">
        <span class="step-label">Step 4 of 5</span>
        <label class="question-text">Smoking status?</label>
        <select id="smoking">
          <option value="never">Never smoked</option>
          <option value="former">Former smoker</option>
          <option value="current">Current Smoker</option>
        </select>
      </section>

      <section class="step" data-step="5">
        <span class="step-label">Step 5 of 5</span>
        <label class="question-text">Health & Environment</label>
        
        <label style="font-size:12px; font-weight:600; margin-bottom:5px; display:block;">Respiratory Conditions? (e.g., Asthma, COPD)</label>
        <select id="respiratory"><option value="no">No</option><option value="yes">Yes</option></select>

        <label style="font-size:12px; font-weight:600; margin-bottom:5px; display:block;">Cardiovascular Conditions? (e.g., Heart Disease)</label>
        <select id="cardio"><option value="no">No</option><option value="yes">Yes</option></select>
        
        <label style="font-size:12px; font-weight:600; margin-bottom:5px; display:block;">Proximity to major road or industrial area?</label>
        <select id="proximity"><option value="no">No</option><option value="yes">Yes (High Exposure)</option></select>

        <label style="font-size:12px; font-weight:600; margin-bottom:5px; display:block;">Use of HEPA filters or masks?</label>
        <select id="mitigation"><option value="no">No regular use</option><option value="yes">Used regularly</option></select>
      </section>
    </form>

    <div class="nav-buttons">
      <button id="btnBack" style="visibility:hidden">Back</button>
      <button id="btnNext" class="btn-next">Next</button>
      <button id="btnCalc" class="btn-calc" style="display:none">Calculate</button>
    </div>

    <div class="methodology-section">
      <h3>How this estimate works</h3>
      <p>The estimate reflects long-term air pollution exposure in Delhi NCR, adjusted for where they lived, how long they lived there, age, and health factors.</p>
      <p style="margin-top: 20px; font-size: 14px; color: #666; font-style: italic;">
        Exposure to PM2.5 particulate matter is linked to chronic systemic inflammation. For individuals with pre-existing vulnerabilities, this environmental stress acts as a clinical accelerator.
      </p>
      <p style="margin-top: 25px; font-size: 12px; color: #888; border-top: 1px solid var(--border-light); padding-top: 15px;">
        All values are population-level approximations meant for awareness, not medical prediction.
      </p>
    </div>
  </div>
</div>

<div id="resultModal" class="modal-overlay">
  <div class="modal-inner">
    <h3 style="font-size:11px; text-transform:uppercase; letter-spacing:2px; color:#777; margin:0;">Evaluation Result</h3>
    <div style="font-family:var(--font-serif); font-size:20px; margin-top:20px;">Without pollution, you may have had</div>
    <span class="result-value" id="resultYears">0 Years</span>
    <div style="font-family:var(--font-serif); font-size:20px; border-bottom: 1px solid var(--border-light); padding-bottom: 30px; margin-bottom: 30px;">more with your loved one.</div>
    <button id="closeResult" class="btn-next" style="width:100%; margin-top:20px;">Close</button>
  </div>
</div>

<div id="introModal" class="modal-overlay" style="display:flex;">
  <div class="modal-inner">
    <h2 style="font-family:var(--font-serif); font-size:28px; margin-bottom:20px;">The Cost of Breathing</h2>
    <p>Air pollution in Delhi NCR shortens lives every year. This tool reflects on the time taken from those we lost.</p>
    <button id="closeIntro" class="btn-next" style="width:100%;">Proceed</button>
  </div>
</div>

<script>
  const steps = Array.from(document.querySelectorAll('.step'));
  const progress = document.getElementById('progressBar');
  const btnBack = document.getElementById('btnBack'), 
        btnNext = document.getElementById('btnNext'), 
        btnCalc = document.getElementById('btnCalc');
  let currentStep = 0;

  const regionBase = { 
    delhi: 5.5, north_delhi: 5.8, east_delhi: 5.7, west_delhi: 5.6, south_delhi: 4.8, 
    ghaziabad: 6.0, noida: 5.2, greater_noida: 4.9, faridabad: 5.0, gurugram: 4.6, 
    sonipat: 4.3, bahadurgarh: 4.1, meerut: 4.4 
  };

  function update() {
    steps.forEach((s, i) => s.classList.toggle('active', i === currentStep));
    progress.style.width = ((currentStep + 1) / steps.length) * 100 + '%';
    btnBack.style.visibility = currentStep === 0 ? 'hidden' : 'visible';
    btnNext.style.display = currentStep === steps.length - 1 ? 'none' : 'block';
    btnCalc.style.display = currentStep === steps.length - 1 ? 'block' : 'none';
  }

  btnNext.onclick = () => { 
    if(currentStep === 2) { 
      const ageVal = +document.getElementById('age').value;
      if(ageVal < 5 || ageVal > 95) { alert("Please enter an age between 5 and 95."); return; }
    }
    if(currentStep < steps.length - 1) { currentStep++; update(); } 
  };

  btnBack.onclick = () => { 
    if(currentStep > 0) { currentStep--; update(); } 
  };

  btnCalc.onclick = () => {
    let est = regionBase[document.getElementById('region').value] || 4.5;
    const years = +document.getElementById('yearsInArea').value;
    const age = +document.getElementById('age').value;
    const smoking = document.getElementById('smoking').value;
    const resp = document.getElementById('respiratory').value;
    const cardio = document.getElementById('cardio').value;
    const prox = document.getElementById('proximity').value;
    const miti = document.getElementById('mitigation').value;
    
    if(years <= 5) est *= 0.5; else if(years <= 15) est *= 0.85; else if(years >= 25) est *= 1.15;
    if(smoking === 'current') est *= 1.25;
    if(resp === 'yes') est *= 1.2;
    if(cardio === 'yes') est *= 1.15;
    if(prox === 'yes') est *= 1.1; 
    if(miti === 'yes') est *= 0.85; 
    if(age < 45) est *= 1.1; else if(age > 75) est *= 0.5;
    
    const res = Math.round(est);
    document.getElementById('resultYears').innerText = Math.max(1, res - 1) + "‚Äì" + (res + 1) + " Years";
    document.getElementById('resultModal').style.display = 'flex';
  };

  document.getElementById('wizard').addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      if (currentStep < steps.length - 1) btnNext.click(); else btnCalc.click();
    }
  });

  document.getElementById('closeResult').onclick = () => document.getElementById('resultModal').style.display = 'none';
  document.getElementById('closeIntro').onclick = () => document.getElementById('introModal').style.display = 'none';

  update();
</script>
</body>
</html>
